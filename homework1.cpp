#include <iostream>
#include <windows.h>
#include <cmath>
#include <string>
using namespace std;

void task1();                                                                                      // Задание 1: "Имя".
void task2();                                                                                      // Задание 2: "Арифметика".
void task3();                                                                                      // Задание 3: "Уравнение".
void task4();                                                                                      // Задание 4: "Еще уравнение".
void task5();                                                                                      // Задание 5: "Лампа со шторой".
void task6();                                                                                      // Задание 6: "Конус".
void menu();                                                                                       // Вывод меню выбора заданий.
void pause();                                                                                      // Пауза перед возвратом в меню.

int main() {
    SetConsoleCP(1251);                                                                            // Установка кодировки для корректного отображения русских символов
    SetConsoleOutputCP(1251);
    int Choice;

    while (true) {
        system("cls");                                                                             // Очистка экрана

        menu();                                                                                    // Вывод меню

        cin >> Choice;

        system("cls");                                                                             // Очистка экрана перед выводом задания

        if (Choice == 0) break;

        switch (Choice) {                                                                          // Выбор соответствующего задания
        case 1: task1(); break;
        case 2: task2(); break;
        case 3: task3(); break;
        case 4: task4(); break;
        case 5: task5(); break;
        case 6: task6(); break;
        default:
            cout << "Такого задания не существует." << endl;
            break;
        }

        pause();                                                                                   // Ожидание нажатия клавиши
    }

    cout << "Программа завершена." << endl;
    return 0;
}

void menu() {                                                                                      // Функция вывода меню заданий
    cout << "===============================" << endl;
    cout << "       ВЫБОР ЗАДАНИЙ N1        " << endl;
    cout << "===============================" << endl << endl;
    cout << "1. Задание «Имя»" << endl;
    cout << "2. Задание «Арифметика»" << endl;
    cout << "3. Задание «Уравнение»" << endl;
    cout << "4. Задание «Еще уравнение»" << endl;
    cout << "5. Задание «Лампа со шторой»" << endl;
    cout << "6. Задание «Конус»" << endl;
    cout << "0. Выход из программы" << endl << endl;
    cout << "===============================" << endl;
    cout << "Выберите задание: ";
}

void pause() {                                                                                     // Функция паузы с ожиданием пользовательского ввода
    cout << endl << "Нажмите любую клавишу для продолжения...";
    cin.ignore();                                                                                  //Выкидываем \n из буфера.
    cin.get();                                                                                     //Ждем ответ от пользователя.
}

void task1() {                                                                                     // Задание 1: "Имя".
    cout << "Задание «Имя». Написать программу, которая выводит на экран Ваше имя." << endl << endl;
    string Name;
    cout << "Введите ваше имя: ";
    cin >> Name;
    cout << "Вас зовут: " << Name << endl;
}

void task2() {                                                                                     // Задание 2: "Арифметика".
    float Num1, Num2;

    cout << "Задание «Арифметика». Ввести с клавиатуры два числа и найти их сумму, разность, произведение и, если возможно, частное от деления одного на другое." << endl << endl;

    cout << "Введите 1-ое число: ";
    cin >> Num1;
    cout << "Введите 2-ое число: ";
    cin >> Num2;

    float Sum = Num1 + Num2;                                                                       // Вычисление суммы, разности и произведения.
    float Dif = Num1 - Num2;
    float Prod = Num1 * Num2;

    cout << "Сумма: " << Num1 << "+" << Num2 << "=" << Sum << endl;
    cout << "Разность: " << Num1 << "-" << Num2 << "=" << Dif << endl;
    cout << "Произведение: " << Num1 << "*" << Num2 << "=" << Prod << endl;

    if (Num2 != 0) {                                                                               // Проверка деления на ноль.
        float Quot = Num1 / Num2;
        cout << "Частное: " << Num1 << "/" << Num2 << "=" << Quot << endl;
    }
    else {
        cout << "Частное: Деление на ноль невозможно." << endl;
    }
}

void task3() {                                                                                     // Задание 3: "Уравнение".
    float b, c;

    cout << "Задание «Уравнение». Для любых введенных с клавиатуры b и c решить уравнение вида bx + c = 0." << endl << endl;

    cout << "Уравнение: b * x + c = 0" << endl;                                                    //Решение уравнение. x = -с/b ; b != 0.
    cout << "Введите b: ";
    cin >> b;
    cout << "Введите c: ";
    cin >> c;

    if (b == 0) {                                                                                  //Если b и c равны 0, то 0 = 0.
        if (c == 0) {
            cout << "Решение: Бесконечное количество решений." << endl;
        }
        else {                                                                                     //Если только b = 0, то нет решений.
            cout << "Решение: Не имеет решений." << endl;
        }
    }
    else {                                                                                         //Решение, если b != 0, c != 0.
        float x = -c / b;
        cout << "Решение: x = " << x << endl;
    }
}

void task4() {                                                                                     // Задание 4: "Еще уравнение".
    float a, b, c;

    cout << "Задание «Еще уравнение». Для любых введенных с клавиатуры a, b и c решить уравнение вида ax^2 + bx + c = 0." << endl << endl;

    cout << "Уравнение: ax^2 + bx + c = 0" << endl;                                                //Кв. уравнение => D < 0 - Нет корней.
    cout << "Введите a: ";                                                                         //                 D = 0 - Один корень (-b/2a).
    cin >> a;                                                                                      //                 D > 0 - Два корня (-b+-sqrt(D)/2a).
    cout << "Введите b: ";                                                                         // a, b, c = 0 => x - любой.
    cin >> b;                                                                                      // a, b = 0 => Нет решений.
    cout << "Введите c: ";                                                                         // a = 0 => x = -c/b.
    cin >> c;                                                                                      // a != 0 => Дискриминант.

    if (a == 0) {                                                                                  //Перебор 0.
        if (b == 0) {
            if (c == 0) {
                cout << "Решение: Бесконечное количество решений." << endl;
            }
            else {
                cout << "Решение: Не имеет решений." << endl;
            }
        }
        else {
            cout << "Решение: x = " << -c / b << endl;
        }
    }
    else {
        float D = b * b - 4 * a * c;                                                               //Решение дискриминантом.

        if (D > 0) {
            float x1 = (-b + sqrt(D)) / (2 * a);                                                   //Использую cmath для корней.
            float x2 = (-b - sqrt(D)) / (2 * a);
            cout << "Решение: " << "x1 = " << x1 << ", x2 = " << x2 << endl;
        }
        else if (D == 0) {
            cout << "Решение: x = " << -b / (2 * a) << endl;
        }
        else {
            cout << "Решение: Не имеет решений." << endl;
        }
    }
}

void task5() {                                                                                     // Задание 5: "Лампа со шторой".
    string Time, Curtains, Lamp;

    cout << "Задание «Лампа со шторой». В комнате светло, если на улице день и раздвинуты шторы или если включена лампа.Ваша программа должна, в зависимости от времени суток и состояния лампы и штор, отвечать на вопрос, светло ли в комнате." << endl << endl;

    cout << "Сейчас день или ночь? (Day/Night) ";                                                  // Время суток.
    cin >> Time;
    while (Time != "Day" && Time != "Night") {
        cout << "Введите 'Day' или 'Night': ";
        cin >> Time;
    }

    cout << "Шторы задвинуты или раздвинуты? (Close/Open) ";                                       // Состояние штор.
    cin >> Curtains;
    while (Curtains != "Close" && Curtains != "Open") {
        cout << "Введите 'Close' или 'Open': ";
        cin >> Curtains;
    }

    cout << "Лампа включена или выключена? (On/Off) ";                                             // Состояние лампы.
    cin >> Lamp;
    while (Lamp != "On" && Lamp != "Off") {
        cout << "Введите 'On' или 'Off': ";
        cin >> Lamp;
    }

    if (Lamp == "On") {                                                                            //Логика.
        cout << "В комнате светло." << endl;
    }
    else if (Time == "Day" && Curtains == "Open") {
        cout << "Ответ: В комнате светло." << endl;
    }
    else {
        cout << "Ответ: В комнате темно." << endl;
    }
}

void task6() {                                                                                     // Задание 6: "Конус".
    float R, r, h;
    const float PI = 3.14;

    cout << "Задание «Конус». Вычислить объем и полную поверхность усеченного конуса: V = 1 / 3pih(R^2 + Rr + r^2), S = pi(R^2 + (R + r)l + r^2)." << endl << endl;

    cout << "Введите больший радиус (R): ";
    cin >> R;
    cout << "Введите меньший радиус (r): ";
    cin >> r;
    cout << "Введите высоту (h): ";
    cin >> h;

    while (R <= 0) {                                                                               // Проверка корректности радиусов и высоты.
        cout << "Больший радиус должно быть больше 0. Введите новое число: ";
        cin >> R;
    }

    while (r <= 0) {
        cout << "Меньший радиус должно быть больше 0. Введите новое число: ";
        cin >> r;
    }

    while (h <= 0) {
        cout << "Высота должна быть больше 0. Введите новое число: ";
        cin >> h;
    }

    while (r >= R) {                                                                               // Проверка соотношения радиусов
        cout << "Меньший радиус должен быть меньше большего. Введите r: ";
        cin >> r;
    }

    float l = sqrt(h * h + (R - r) * (R - r));
    cout << "Образующуя l = " << l << endl;

    float S = PI * (R * R + (R + r) * l + r * r);
    float V = (PI * h * (R * R + R * r + r * r)) / 3;

    cout << "Решение: Площадь полной поверхности усеченного конуса: " << S << endl;
    cout << "Решение: Объем усеченного конуса: " << V << endl;
}